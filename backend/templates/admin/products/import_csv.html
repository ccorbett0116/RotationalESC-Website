{% extends "admin/base_site.html" %}
{% load i18n admin_urls static admin_modify %}

{% block title %}{{ title }} | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block breadcrumbs %}
<div class="breadcrumbs">
<a href="{% url 'admin:index' %}">{% trans 'Home' %}</a>
&rsaquo; <a href="{% url 'admin:app_list' app_label='products' %}">Products</a>
&rsaquo; <a href="{% url 'admin:products_product_changelist' %}">Products</a>
&rsaquo; {{ title }}
</div>
{% endblock %}

{% block content %}
<h1>{{ title }}</h1>

<div class="module aligned">
    <form enctype="multipart/form-data" action="" method="post">
        {% csrf_token %}
        
        <div class="form-row">
            <div>
                <label for="{{ form.products_csv_file.id_for_label }}" class="required">{{ form.products_csv_file.label }}:</label>
                {{ form.products_csv_file }}
                {% if form.products_csv_file.help_text %}
                    <p class="help">{{ form.products_csv_file.help_text }}</p>
                {% endif %}
                {% for error in form.products_csv_file.errors %}
                    <ul class="errorlist"><li>{{ error }}</li></ul>
                {% endfor %}
            </div>
        </div>
        
        <div class="form-row">
            <div>
                <label for="{{ form.specifications_csv_file.id_for_label }}">{{ form.specifications_csv_file.label }}:</label>
                {{ form.specifications_csv_file }}
                {% if form.specifications_csv_file.help_text %}
                    <p class="help">{{ form.specifications_csv_file.help_text }}</p>
                {% endif %}
                {% for error in form.specifications_csv_file.errors %}
                    <ul class="errorlist"><li>{{ error }}</li></ul>
                {% endfor %}
            </div>
        </div>
        
        <div class="form-row">
            <div>
                <label for="{{ form.update_existing.id_for_label }}">
                    {{ form.update_existing }} {{ form.update_existing.label }}
                </label>
                {% if form.update_existing.help_text %}
                    <p class="help">{{ form.update_existing.help_text }}</p>
                {% endif %}
                {% for error in form.update_existing.errors %}
                    <ul class="errorlist"><li>{{ error }}</li></ul>
                {% endfor %}
            </div>
        </div>
        
        <div class="submit-row">
            <input type="submit" value="Import CSV" class="default" />
            <a href="{% url 'admin:products_product_changelist' %}" class="button cancel-link">Cancel</a>
        </div>
    </form>
</div>

<div class="module aligned">
    {{ help_text|safe }}
</div>

<style>
.module.aligned .form-row {
    margin-bottom: 20px;
}

.module.aligned label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
}

.module.aligned input[type="file"] {
    width: 100%;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.module.aligned input[type="checkbox"] {
    margin-right: 8px;
}

.help {
    font-size: 11px;
    color: #666;
    margin-top: 5px;
}

pre {
    background: #f8f8f8;
    padding: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    overflow-x: auto;
    font-size: 12px;
}
</style>
{% endblock %}
